"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[57317,38357,83912],{554433:(e,t,i)=>{i.d(t,{VisibilityApi:()=>r});var n=i(262325),s=i.n(n);class r{constructor(e){let t;this.isVisible=new(s())(!0);let i=null;for(const n of["","moz","ms","webkit"]){const s=n?`${n}Hidden`:"hidden";if(s in e){t=`${n}visibilitychange`,i=()=>{this.isVisible.setValue(!e[s])},i(),e.addEventListener(t,i,!1);break}}this.destroy=()=>{i&&(e.removeEventListener(t,i,!1),i=null)}}}},371856:(e,t,i)=>{i.d(t,{japaneseChartStyles:()=>s,commonChartStyles:()=>r,allChartStyles:()=>o});var n=i(611688);function s(){const e=[8];return n.enabled("japanese_chart_styles")&&(e.push(4,7,5,6),e.push(11)),e}function r(){const e=[0,1,9,13,2,3,10];return e.push(12),e}function o(){return r().concat(s())}},273044:(e,t,i)=>{i.d(t,{ResolutionKind:()=>r,SpecialResolutionKind:()=>o,Interval:()=>c,isHour:()=>h});const n=/^(\d*)([TSHDWMR])$/,s=/^(\d+)$/;var r,o;!function(e){e.Ticks="ticks",e.Seconds="seconds",e.Minutes="minutes",e.Days="days",e.Weeks="weeks",e.Months="months",e.Range="range",e.Invalid="invalid"}(r||(r={})),function(e){e.Hours="hours"}(o||(o={}));const a={};a[r.Ticks]=1e3,a[r.Seconds]=1e3,a[r.Minutes]=60*a[r.Seconds],a[r.Days]=1440*a[r.Minutes],a[r.Weeks]=7*a[r.Days];const u={T:r.Ticks,S:r.Seconds,D:r.Days,W:r.Weeks,M:r.Months,R:r.Range},l=new Set([r.Ticks,r.Seconds,r.Minutes]);class c{constructor(e,t){this._kind=r.Invalid,this._multiplier=0,e!==r.Invalid&&t>0&&(this._kind=e,this._multiplier=t)}kind(){return this._kind}multiplier(){return this._multiplier}isValid(){return this.kind()!==r.Invalid&&this.multiplier()>0}isDWM(){return this.isValid()&&!this.isRange()&&!this.isIntraday()&&!this.isTicks()}isIntraday(){const e=l.has(this.kind());return this.isValid()&&e}isSeconds(){return this.kind()===r.Seconds}isMinutes(){return this.kind()===r.Minutes}isMinuteHours(){return this.kind()===r.Minutes&&h(this.multiplier())}isDays(){return this.kind()===r.Days}isWeeks(){return this.kind()===r.Weeks}isMonths(){return this.kind()===r.Months}isRange(){return this.kind()===r.Range}isTicks(){return this.kind()===r.Ticks}isTimeBased(){return!this.isRange()}letter(){return this.isValid()&&this.kind()!==r.Minutes?this.kind()[0].toUpperCase():""}value(){return this.isValid()?this.kind()===r.Minutes?this.multiplier()+"":this.multiplier()+this.letter():""}isEqualTo(e){if(!(e instanceof c))throw new Error("Argument is not an Interval");return!(!this.isValid()||!e.isValid())&&(this.kind()===e.kind()&&this.multiplier()===e.multiplier())}inMilliseconds(e=Date.now()){if(!this.isValid()||this.isRange())return NaN;if(this.isMonths()){const t=new Date(e);t.setUTCMonth(t.getUTCMonth()+(this.multiplier()||1));return+t-e}const t=this.multiplier();return a[this.kind()]*t}static isEqual(e,t){return e===t||c.parse(e).isEqualTo(c.parse(t))}static parseExt(e){e=(e+"").toUpperCase().split(",")[0];let t=n.exec(e);return null!==t?"H"===t[2]?{interval:new c(r.Minutes,60*d(t[1])),guiResolutionKind:o.Hours}:{interval:new c(u[t[2]],d(t[1])),guiResolutionKind:u[t[2]]
}:(t=s.exec(e),null!==t?{interval:new c(r.Minutes,d(t[1])),guiResolutionKind:r.Minutes}:{interval:new c(r.Invalid,0),guiResolutionKind:r.Invalid})}static parse(e){return c.parseExt(e).interval}static kind(e){return c.parse(e).kind()}static isValid(e){return c.parse(e).isValid()}static isDWM(e){return c.parse(e).isDWM()}static isIntraday(e){return c.parse(e).isIntraday()}static isSeconds(e){return c.parse(e).isSeconds()}static isMinutes(e){return c.parse(e).isMinutes()}static isMinuteHours(e){return c.parse(e).isMinuteHours()}static isDays(e){return c.parse(e).isDays()}static isWeeks(e){return c.parse(e).isWeeks()}static isMonths(e){return c.parse(e).isMonths()}static isRange(e){return c.parse(e).isRange()}static isTicks(e){return c.parse(e).isTicks()}static isTimeBased(e){return c.parse(e).isTimeBased()}static normalize(e){const t=c.parse(e);return t.isValid()?t.value():null}}function d(e){return 0===e.length?1:parseInt(e,10)}function h(e){return e>=60&&!(e%60)}},195048:(e,t,i)=>{i.r(t),i.d(t,{STATUS_OFFLINE:()=>n,STATUS_RESOLVING:()=>s,STATUS_LOADING:()=>r,STATUS_READY:()=>o,STATUS_INVALID_SYMBOL:()=>a,STATUS_SNAPSHOT:()=>u,STATUS_EOD:()=>l,STATUS_PULSE:()=>c,STATUS_DELAYED:()=>d,STATUS_DELAYED_STREAMING:()=>h,STATUS_NO_BARS:()=>_,STATUS_REPLAY:()=>y,STATUS_ERROR:()=>p,SERIES_STATUS_TEXT:()=>f,STYLE_LINE_TYPE_MARKERS:()=>S,STYLE_LINE_TYPE_STEP:()=>b,STYLE_LINE_TYPE_SIMPLE:()=>m,STYLE_BARS:()=>g,STYLE_CANDLES:()=>v,STYLE_LINE:()=>C,STYLE_AREA:()=>w,STYLE_RENKO:()=>T,STYLE_KAGI:()=>E,STYLE_PNF:()=>P,STYLE_PB:()=>k,STYLE_HEIKEN_ASHI:()=>x,STYLE_HOLLOW_CANDLES:()=>B,STYLE_BASELINE:()=>I,STYLE_RANGE:()=>L,STYLE_HILO:()=>R,STYLE_COLUMNS:()=>D,STYLE_SHORT_NAMES:()=>V,SYMBOL_STRING_DATA:()=>M});const n=0,s=1,r=2,o=3,a=4,u=5,l=6,c=7,d=8,h=9,_=10,y=11,p=12,f={[n]:"connecting",[s]:"loading",[r]:"loading",[o]:"realtime",[a]:"invalid",[u]:"snapshot",[l]:"endofday",[c]:"endofday",[d]:"delayed",[h]:"delayed_streaming",[_]:"forbidden",[y]:"replay",[p]:"error"},S=0,b=1,m=2,g=0,v=1,C=2,w=3,T=4,E=5,P=6,k=7,x=8,B=9,I=10,L=11,R=12,D=13,V={0:"bar",1:"candle",9:"hollowCandle",2:"line",3:"area",4:"renko",7:"pb",5:"kagi",6:"pnf",8:"ha",10:"baseline",11:"range",12:"hilo",13:"column"},M={4:{type:"BarSetRenko@tv-prostudies",basicStudyVersion:63},7:{type:"BarSetPriceBreak@tv-prostudies",basicStudyVersion:34},5:{type:"BarSetKagi@tv-prostudies",basicStudyVersion:34},6:{type:"BarSetPnF@tv-prostudies",basicStudyVersion:34},8:{type:"BarSetHeikenAshi@tv-basicstudies",basicStudyVersion:60},11:{type:"BarSetRange@tv-basicstudies",basicStudyVersion:72}}},749473:(e,t,i)=>{i.r(t),i.d(t,{getTranslatedChartStyleName:()=>C,isRequiringRestartSeriesStyles:()=>w,isRangeBasedStyle:()=>T,isRangeStyle:()=>E,isTimeBasedStyle:()=>P,isValidStyle:()=>k,isSingleValueBasedStyle:()=>x,setLastUsedStyle:()=>B,getLastUsedStyle:()=>I,getLastUsedSingleValueBasedStyle:()=>L,getDefaultStyle:()=>R,getChartStyleByResolution:()=>D,chartStyleStudyId:()=>V,preparePriceAxisProperties:()=>M,hasProjection:()=>U,isPriceSourceStyle:()=>W,getSeriesPriceFormattingState:()=>A,
createSeriesFormatter:()=>N,symbolCurrencyConvertible:()=>Y,symbolCurrency:()=>F,symbolOriginalCurrency:()=>$,symbolBaseCurrency:()=>H,isConvertedToOtherCurrency:()=>j,symbolUnitConvertible:()=>K,symbolUnit:()=>q,symbolOriginalUnit:()=>G,isConvertedToOtherUnit:()=>J,symbolUnitConvertibleGroupsIfExist:()=>z,symbolCurrentContract:()=>X,symbolHasPreOrPostMarket:()=>Q,symbolHasSeveralSessions:()=>Z,symbolHasEconomicEvents:()=>ee,extractSymbolNameFromSymbolInfo:()=>te,symbolTitle:()=>ie,displayedSymbolName:()=>ne,displayedSymbolExchange:()=>se,actualSymbol:()=>re,proSymbol:()=>oe,symbolForApi:()=>ae,isRegularSessionId:()=>ue,isCloseBasedSymbol:()=>le,isMeasureUnitSymbol:()=>ce,measureUnitId:()=>de,hasVolume:()=>he,isEconomicSymbol:()=>_e,getStudySymbolExchange:()=>ye,isFutureContinuousSymbolWithBackajustment:()=>pe,isFuturesContractSymbol:()=>fe,isCryptoSymbol:()=>Se});var n=i(575932),s=i(62802),r=i(195048),o=i(273044),a=i(796347),u=i(611688),l=i(588537),c=i(591419),d=i(965513);const h=u.enabled("pay_attention_to_ticker_not_symbol"),_=u.enabled("uppercase_instrument_names"),y=u.enabled("charting_library_single_symbol_request"),p=u.enabled("use_ticker_on_symbol_info_update"),f=u.enabled("hide_object_tree_and_price_scale_exchange_label"),S=[4,5,6,7,8],b=[4,5,6,7,11],m=[0,1,9,2,3,10,8,12,13],g=[2,10,3,13],v={0:(0,n.t)("Bars"),1:(0,n.t)("Candles"),2:(0,n.t)("Line"),3:(0,n.t)("Area"),9:(0,n.t)("Hollow candles"),10:(0,n.t)("Baseline"),12:(0,n.t)("High-low"),13:(0,n.t)("Columns"),4:(0,n.t)("Renko"),7:(0,n.t)("Line break"),5:(0,n.t)("Kagi"),6:(0,n.t)("Point & figure"),11:(0,n.t)("Range"),8:(0,n.t)("Heikin Ashi")};function C(e){return v[e]}function w(e){return-1!==S.indexOf(e)}function T(e){return-1!==b.indexOf(e)}function E(e){return 11===e}function P(e){return-1!==m.indexOf(e)}function k(e){return T(e)||P(e)}function x(e){switch(e){case 3:case 10:case 2:case 13:return!0;default:return!1}}function B(e,t){k(e)&&(11!==e&&s.setValue("chart.lastUsedStyle",e),le(t)&&x(e)&&s.setValue("chart.lastUsedSingleValueBasedStyle",e))}function I(){const e=s.getInt("chart.lastUsedStyle");return void 0===e?1:e}function L(){const e=s.getInt("chart.lastUsedSingleValueBasedStyle");return void 0===e?2:e}function R(e){return e?11:1}function D(e,t){const i=E(t),n=o.Interval.isRange(e);return!i&&n?R(!0):i&&!n?R(!1):t}function V(e,t){const i=r.SYMBOL_STRING_DATA[e];return void 0===i?null:t?`${i.type}-${i.basicStudyVersion}`:i.type}function M(e){const t=e.priceAxisProperties,i=t.lockScale.value(),n=6===e.style.value();(n||i)&&(t.log.setValue(!1),t.percentage.setValue(!1)),t.logDisabled.setValue(!(!n&&!i)),t.percentageDisabled.setValue(!(!n&&!i))}const O=[4,7,5,6];function U(e){return-1!==O.indexOf(e)}function W(e){return g.includes(e)}function A(e,t="default",i=!1){let n,s,r=100,o=1;if("default"===t)null!=e&&(r=e.pricescale,o=e.minmov,n=e.fractional,s=e.minmove2);else{let e=t.split(",");3!==e.length&&(e=["100","1","false"]),r=parseInt(e[0]),o=parseInt(e[1]),n="true"===e[2]}return i&&(o=1),{priceScale:r,minMove:o,fractional:n,minMove2:s}}
function N(e,t,i=!1){if("default"===t&&null!=e){const t=e.formatter||e.format;if("volume"===t)return new c.VolumeFormatter(2);if("percent"===t)return new d.PercentageFormatter(e.pricescale)}const{priceScale:n,minMove:s,fractional:r,minMove2:o}=A(e,t,i);return new a.PriceFormatter(n,s,r,o)}function Y(e){return null!==e&&"spread"!==e.type}function F(e,t,i){if(null===e)return null;const n=!t||i?e.currency_id:e.currency_code;return void 0===n||""===n||"pct"===n?null:n}function $(e,t){const i=t?e.original_currency_code:e.original_currency_id;return"pct"===i?null:null!=i?i:F(e,t)}function H(e){return e.base_currency_id||null}function j(e){return!(null===e||!Y(e))&&(void 0!==e.original_currency_id&&e.original_currency_id!==e.currency_id)}function K(e,t){return t&&null!==e&&"spread"!==e.type}function q(e,t){if(null===e||!t)return null;const i=e.unit_id;return void 0===i||""===i?null:i}function G(e,t){return t?e.original_unit_id||q(e,t):null}function J(e,t){return!(null===e||!K(e,t))&&(void 0!==e.original_unit_id&&e.original_unit_id!==e.unit_id)}function z(e,t){return null!==e&&K(e,t)?e.unit_conversion_types||null:[]}function X(e){return"futures"===e.type&&e.front_contract||null}function Q(e){return null!==e&&void 0!==e.subsessions&&e.subsessions.some((e=>"premarket"===e.id||"postmarket"===e.id))}function Z(e){return null!==e&&void 0!==e.subsessions&&e.subsessions.filter((e=>!e.private)).length>1}function ee(e){return null!==e&&("forex"===e.type||"cfd"===e.type||Se(e))}function te(e,t){let i=e&&(e.pro_name||e.full_name||e.name);return y&&t?i=t:p&&e&&e.ticker&&(i=e.ticker),_&&i&&(i=i.toUpperCase()),i}function ie(e,t,i="exchange"){return t||f?e.name:`${e.name}, ${e[i]}`}function ne(e){let t=e&&(X(e)||e.name)||"";return t.length>40&&(t=t.substring(0,37)+"..."),t.trim()}function se(e){const t=e?e.exchange:"";return _?t.toUpperCase():t}function re(e,t){return null!==e?e.full_name:t}function oe(e,t){return null!==e?e.pro_name:t}function ae(e,t){return h&&e?(0,l.ensureDefined)(e.ticker):re(e,t)}function ue(e){return"regular"===e||"us_regular"===e}function le(e){return"c"===(null==e?void 0:e.visible_plots_set)}function ce(e){return null!==e&&("unit"===e.measure&&null!==de(e))}function de(e){var t;return null!==(t=null==e?void 0:e.value_unit_id)&&void 0!==t?t:null}function he(e){return void 0!==e.visible_plots_set?"ohlcv"===e.visible_plots_set:!e.has_no_volume}function _e(e){return null!==e&&"economic"===e.type}function ye(e){return _e(e)&&e.source?e.source:e.exchange&&0!==e.exchange.length?e.exchange:void 0}function pe(e){var t;return null!==e&&"futures"===e.type&&Boolean(e.has_backadjustment&&(null===(t=e.typespecs)||void 0===t?void 0:t.includes("continuous")))}function fe(e){var t;return null!==e&&"futures"===e.type&&!Boolean(null===(t=e.typespecs)||void 0===t?void 0:t.includes("continuous"))}function Se(e){var t;return(null===(t=e.typespecs)||void 0===t?void 0:t.includes("crypto"))||"crypto"===e.type||"bitcoin"===e.type}},348102:(e,t,i)=>{i.d(t,{getCountries:()=>r});var n=i(86674);let s=null;async function r(){var e
;if(null!==s)return s;const t=await(0,n.fetch)("/accounts/countries/",{credentials:"include"});if(!t.ok){const e=await t.json();throw Error(String(e))}const i=await t.json();return s={...i,current_country_code:null!==(e=i.current_country_code)&&void 0!==e?e:"US"},s}},338733:(e,t,i)=>{function n(e){return Promise.all([i.e(90519),i.e(90926),i.e(10146),i.e(8834),i.e(30063),i.e(37135),i.e(8348),i.e(15107),i.e(5979),i.e(78941),i.e(48181),i.e(35354),i.e(99740),i.e(91670),i.e(53221),i.e(77301),i.e(63280),i.e(37619),i.e(67161),i.e(9935),i.e(34640),i.e(18867),i.e(36603),i.e(29499),i.e(61820),i.e(84458),i.e(57561),i.e(82520),i.e(44119),i.e(98432),i.e(73116),i.e(52323),i.e(50289),i.e(18946),i.e(33504),i.e(53639),i.e(64046),i.e(87995),i.e(66414),i.e(9541),i.e(85518),i.e(74879),i.e(77181),i.e(63465),i.e(37125),i.e(20274),i.e(78703)]).then(i.bind(i,395325)).then((t=>t.openPaymentOrderDialog(e)))}i.d(t,{showPaymentOrderDialog:()=>n})},706162:(e,t,i)=>{var n;i.d(t,{StatusExtraData:()=>n}),function(e){e.Opened="opened",e.Closed="closed"}(n||(n={}))},459689:(e,t,i)=>{i.d(t,{check:()=>s});var n=i(348102);async function s(){const{is_restricted:e}=await(0,n.getCountries)();return e}},224314:(e,t,i)=>{i.r(t),i.d(t,{showRestrictedCountryNotificationDialog:()=>r});var n=i(575932),s=i(779923);function r(){(0,s.showWarning)({title:(0,n.t)("We can't accept your payment right now"),text:(0,n.t)("TradingView needs to comply with U.S. trade embargoes and economic sanctions, so we're unable to accept any payments from the region you're in at the moment.")})}},619101:(e,t,i)=>{i.d(t,{showSupportDialog:()=>n});i(659863);function n(e){return Promise.all([i.e(10146),i.e(15107),i.e(5979),i.e(78941),i.e(48181),i.e(35354),i.e(55099),i.e(71452),i.e(50407),i.e(84845),i.e(99740),i.e(91670),i.e(53221),i.e(77301),i.e(63280),i.e(94430),i.e(36603),i.e(57561),i.e(44415),i.e(98432),i.e(25773),i.e(5953),i.e(56391),i.e(86052),i.e(87995),i.e(24377),i.e(25977),i.e(59255),i.e(24951),i.e(68),i.e(26612),i.e(57274)]).then(i.bind(i,35877)).then((t=>new t.SupportDialog(e).open()))}},314370:(e,t,i)=>{var n=i(86674).fetch,s=i(893278).visitPaymentPage,r=i(888035).BillingCycle,o=i(97639),a=(0,i(588948).getFreshInitData)();function u(e){if(this._freeProductIds=["tv-scripting","tv-basicstudies","tv-prostudies","Script$USER","Script$EDGR","ESD$TV"],this.packagesUpdated=new o,!e)return this._products=this._discounts={},void(this._offers=this._order=[]);this._products={},this._discounts={},this._offers=e.offers,this._order=[],this._invalidShopConf=!0,"undefined"!=typeof window&&window.loginStateChange.subscribe(this,this.onLoginStateChange),this.currencies=["USD","RUB","MYR","GBP","INR"]}u.prototype.PRODUCT_TYPES={pro_plan:1,study_package:2,news_feed:3,exchange:4,connection:6,coins:8},u.prototype.updateShopConf=function(e){return this._shopConfPromise||(this._shopConfPromise=n("/market/shopconf/",{credentials:"include"}).then((function(e){return e.json()})).then(function(t){this._products=t.all_products&&JSON.parse(t.all_products)||{},
this._discounts=t.discounts&&JSON.parse(t.discounts)||{},this._offers=t.offers&&JSON.parse(t.offers)||[],this._order=t.order&&JSON.parse(t.order)||[],this._invalidShopConf=!1,delete this._shopConfPromise,e||this.packagesUpdated.fire()}.bind(this)).catch(function(){delete this._shopConfPromise}.bind(this))),this._shopConfPromise},u.prototype.invalidateShopConf=function(){this._invalidShopConf=!0},u.prototype.isInvalidShopConf=function(){return!!this._invalidShopConf},u.prototype.ensureValidShopConf=function(){return new Promise(function(e){return this.runOrUpdate(e)}.bind(this))},u.prototype.onLoginStateChange=function(e){e||this.updateShopConf()},u.prototype.runOrUpdate=function(e,t){this.isInvalidShopConf()?this.updateShopConf(t).then(e):e()},u.prototype.getIDCExchanges=function(e){var t=this._products;if(a)if(e){if(a.idc_delay_exchanges_list)return a.idc_delay_exchanges_list}else if(a.idc_exchanges_list)return a.idc_exchanges_list;return Object.keys(t).filter((function(i){return e?t[i].idc_service_codes_delay:t[i].idc_service_codes})).map((function(e){return t[e].exchange}))},u.prototype.getProduct=function(e){if(e in this._products)return this._products[e];if(this.isDiscountProductId(e)){var t=this._discounts[e],i=Object.assign({discount_text_id:e},this._products[t.product]);return this.currencies.forEach((e=>{const n="USD"===e?"":`_${e}`;t[`cost${n}`]&&(i[`cost${n}`]=t[`cost${n}`]),t[`cost_annual${n}`]&&(i[`cost_annual${n}`]=t[`cost_annual${n}`]),t[`cost_biennial${n}`]&&(i[`cost_biennial${n}`]=t[`cost_biennial${n}`])})),void 0!==t.fixed_cost&&(i.fixed_cost=t.fixed_cost),void 0!==t.extra_days&&(i.extra_days=t.extra_days),void 0!==t.billing_cycle&&(i.billing_cycle=t.billing_cycle),i}return{}},u.prototype.findProduct=function(e){return new Promise(function(t){var i=function(){t(this.getProduct(e))}.bind(this);if(!this.isInvalidShopConf())return i();this.updateShopConf().then(i).catch(i)}.bind(this))},u.prototype.isProductDefined=function(e){return!(!e||!Object.keys(e).length)},u.prototype.getDiscountProduct=function(e){return this._discounts[e]||{}},u.prototype.isOffer=function(e,t){var i=this._discounts;return Object.keys(i).filter((function(e){return!i[e].expired&&i[e].offer_type===t})).includes(e)},u.prototype.getProductId=function(e){return e&&(e.discount_text_id||e.text_id)||""},u.prototype.isDiscountProductId=function(e){return e in this._discounts},u.prototype.isPlan=function(e){return e.type===this.PRODUCT_TYPES.pro_plan},u.prototype.isExchange=function(e){return e.type===this.PRODUCT_TYPES.exchange},u.prototype.getActiveExchanges=function(){return this.getProductsByType(this.PRODUCT_TYPES.exchange).filter((function(e){return!e.disabled&&Boolean(e.cost)}))},u.prototype.getExchange=function(e){for(var t,i=this.getProductsByType(this.PRODUCT_TYPES.exchange),n=0;n<i.length;n+=1)if((t=i[n]).exchange===e||t.included_exchanges&&t.included_exchanges.includes(e))return t;return{}},u.prototype.getCost=function(e,t,i){let n="";void 0!==i&&"USD"!==i&&(n=`_${i}`)
;var s=`cost${n}`,o=`cost_annual${n}`,a=`cost_biennial${n}`,u=1;if(r.TwoYears===t){if(e.fixed_cost||(u=24),e[a])return e[a]*u;if(e[o])return e[o]*u}else if(r.OneYear===t){if(e.fixed_cost||(u=12),e[o])return e[o]*u}else r.ThreeMonths===t&&(e.fixed_cost||(u=3));return e[s]?e[s]*u:e.cost*u},u.prototype.getProductsByType=function(e){return Object.keys(this._products).filter((function(t){return this._products[t].type===e}),this).map((function(e){return this.getProduct(e)}),this).sort((function(e,t){return t.order>e.order?-1:t.order<e.order?1:0}))},u.prototype.getProPlans=function(e){return this.getProductsByType(this.PRODUCT_TYPES.pro_plan).filter((function(t){return!e||!t.is_limited})).map((function(e){return e.text_id}))},u.prototype.getSuperProduct=function(e){for(var t in this._products){var i=this._products[t];if(i.subproduct_ids&&i.subproduct_ids.indexOf(e)>=0)return i.id}},u.prototype.getStudiesOrder=function(){return this._order.filter((function(e){return this._products[e]&&this._products[e].type===this.PRODUCT_TYPES.study_package}),this)},u.prototype.hasPackage=function(e){return this._offers.includes(e)||this._freeProductIds.includes(e)},u.prototype._getUser=function(){return window.user},u.prototype.updateUser=function(){},u.prototype.isPro=function(){return!!this._getUser().pro_plan},u.prototype.isTrial=function(){return!!this._getUser().is_trial},u.prototype.isPaidPro=function(){return this.isPro()&&!this.isTrial()},u.prototype.userHasRealtimeForExchange=function(e){e=(e||"").toLowerCase().replace("exchange-","");var t=this.getExchange(e);if(!this.isProductDefined(t))return!1;if(this._offers.includes("exchange-"+t.exchange))return!0;if(t.included_exchanges)for(var i=0;i<t.included_exchanges.length;i+=1)if(this._offers.includes("exchange-"+t.included_exchanges[i]))return!0;return!1},u.prototype._exHasRealtimeForType=function(e,t){return!("stock"===t&&!e.is_stocks)&&(!("index"===t&&!e.is_indices)&&!("futures"===t&&!e.is_futures))},u.prototype.hasRealtimeForExchange=function(e,t){var i,n,s=pro.getProductsByType(pro.PRODUCT_TYPES.exchange);e=(e||"").toLowerCase();for(var r=0;r<s.length;r+=1)if((i=s[r]).exchange===e||(i.included_exchanges||[]).includes(e)){if(i.disabled&&!i.included_exchanges)return!1;if(!t)return!0;if(i.included_exchanges){for(var o,a=0;a<i.included_exchanges.length;a+=1)if(n=this.getProduct("exchange-"+i.included_exchanges[a]),this.isProductDefined(n)&&this._exHasRealtimeForType(n,t)){o=!0;break}if(!o)return!1}else if(!this._exHasRealtimeForType(i,t))return!1;return!0}return!1},u.prototype.visitExchangesPage=function(e){var t=r.Monthly,i=!0,n=this._getUser();n.is_trial||(t=n.pro_plan_billing_cycle||r.OneYear,i=!1),s(t,{exchangesOnly:!0,newWindow:(e=e||{}).newWindow,paymentMethod:e.paymentMethod,fixedCycle:i})},u.prototype.offerLogoSrc=function(e){return e.has_logo?"/static/images/indicators/logos/"+e.text_id+".png":null},u.prototype.offers=function(){return this._offers},u.prototype.isSupportAvailable=function(){return Boolean(a.is_support_available)},u.prototype.discounts=function(){
return this._discounts},u.prototype.hash=function(){var e=this._offers.slice(0);e.sort();var t={offers:e};return JSON.stringify(t)},"undefined"!=typeof window&&window.TradingView&&(window.TradingView.Pro=u),e.exports=u},893278:(e,t,i)=>{i.d(t,{visitPaymentPage:()=>d});var n=i(575932),s=i(698969),r=i(338733),o=i(888035),a=i(125226),u=i(706162),l=i(459689),c=i(224314);function d(e="y",t={}){var i;const d=null!==(i=t.productName)&&void 0!==i?i:"pro",h=t.paymentMethod||"paypal",_="bitcoin"===h?"Bitcoin payment":"Paypal payment";window.runOrSignIn((async()=>{if(await(0,l.check)())return void(0,c.showRestrictedCountryNotificationDialog)();if("function"==typeof t.canVisit&&!t.canVisit())return void(t.reloadIfCantVisit?location.reload():location.href="/");if((0,a.isFeatureEnabled)("braintree-trial-implementation"))return void(0,r.showPaymentOrderDialog)({productId:t.productName,billingCycle:t.exchangesOnly?o.BillingCycle.Monthly:e,fixedCycle:t.fixedCycle,statusExtraData:t.exchangesExpanded?u.StatusExtraData.Opened:void 0});const i=(0,s.parseHtmlElement)(`<form action="/order/" method="post" ${t.newWindow?'target="_blank"':""}>\n\t\t\t\t\t<input type="hidden" name="product" value="${d}"/>\n\t\t\t\t\t<input type="hidden" name="billing_cycle" value="${e}"/>\n\t\t\t\t\t<input type="hidden" name="fixed_billing_cycle" value="${t.fixedCycle?"1":""}"/>\n\t\t\t\t\t<input type="hidden" name="exchanges_only" value="${t.exchangesOnly?"1":""}"/>\n\t\t\t\t\t<input type="hidden" name="exchanges_expanded" value="${t.exchangesExpanded?"1":""}"/>\n\t\t\t\t\t<input type="hidden" name="selected_packages" value="${(t.selectedPackages||[]).join(",")}"/>\n\t\t\t\t\t<input type="hidden" name="payment_method" value="${h}"/>\n\t\t\t\t</form>`);i&&(document.body.appendChild(i),i.submit())}),{source:_,paidAccountCheck:window.pro&&window.pro.getProduct(d).type===window.pro.PRODUCT_TYPES.pro_plan,paidAccountSuccessButtonText:(0,n.t)("Continue purchasing")})}},583912:(e,t,i)=>{i.r(t),i.d(t,{Linking:()=>p,linking:()=>f});var n=i(12481),s=i(262325),r=i.n(s),o=i(611688),a=i(749473),u=i(911905),l=i(62802),c=i(588948),d=i(776734),h=i(371856);const _=(0,u.getLogger)("Linking");var y;!function(e){e[e.NotBound=0]="NotBound",e[e.BoundToWidget=1]="BoundToWidget",e[e.BoundToModel=2]="BoundToModel"}(y||(y={}));class p{constructor(){this._watchedSymbol=new(r()),this._seriesShortSymbol=new(r()),this._proSymbol=new(r()),this._watchedInterval=new(r()),this._watchedIntraday=new(r()),this._watchedSeconds=new(r()),this._watchedTicks=new(r()),this._watchedDataFrequencyResolution=new(r()),this._watchedRange=new(r()),this._watchedSupportedResolutions=new(r()),this._watchedSupportedChartStyles=new(r())([]),this._symbolNamesList=new(r()),this._chartWidgetBindingState=y.NotBound,this._activeChartWidget=null,this._watchedSymbolListenerBound=this._watchedSymbolListener.bind(this),this._watchedIntervalListenerBound=this._watchedIntervalListener.bind(this),this._onSymbolLinkBound=this._onSymbolLink.bind(this),this._searchCharts=null,this._searchChartsLoadDebounced=null,
this._selfEmit=!1,this._preventFeedBySymbol=!1,this._feedBySymbolDebounceCounter=0}get symbol(){return this._watchedSymbol}get proSymbol(){return this._proSymbol}get symbolNamesList(){return this._symbolNamesList}get seriesShortSymbol(){return this._seriesShortSymbol.readonly()}get interval(){return this._watchedInterval}get intraday(){return this._watchedIntraday.readonly()}get seconds(){return this._watchedSeconds.readonly()}get ticks(){return this._watchedTicks.readonly()}get range(){return this._watchedRange.readonly()}get supportedResolutions(){return this._watchedSupportedResolutions.readonly()}get supportedChartStyles(){return this._watchedSupportedChartStyles.readonly()}get preventFeedBySymbol(){return this._preventFeedBySymbol}get dataFrequencyResolution(){return this._watchedDataFrequencyResolution.readonly()}bindToChartWidget(e){if(this.unbindFromChartWidget(),this._activeChartWidget=e,e.hasModel())return void this._onChartModelCreated(e.model());e.modelCreated().subscribe(this,this._onChartModelCreated),this._chartWidgetBindingState=y.BoundToWidget;const t=e.properties().childs().mainSeriesProperties.childs();this._watchedSymbol.setValue(t.symbol.value()),this._watchedInterval.setValue(t.interval.value())}unbindFromChartWidget(){switch(this._chartWidgetBindingState){case y.BoundToWidget:if(!this._activeChartWidget)throw new Error("ChartWidget is undefined");this._activeChartWidget.modelCreated().unsubscribe(this,this._onChartModelCreated);break;case y.BoundToModel:this._symbolProperty().unsubscribe(this,this._onSymbolPropertyChange),this._watchedSymbol.unsubscribe(this._watchedSymbolListenerBound),this._mainSeries().dataEvents().symbolResolved().unsubscribe(this,this._updateSeriesSymbolInfo),this._mainSeries().dataEvents().symbolError().unsubscribe(this,this._updateSeriesSymbolInfo),this._intervalProperty().unsubscribe(this,this._onIntervalPropertyChange),this._watchedInterval.unsubscribe(this._watchedIntervalListenerBound),delete this._watchedSymbol.hook,delete this._watchedSymbol.writeLock}this._activeChartWidget=null,this._chartWidgetBindingState=y.NotBound}getChartWidget(){return this._activeChartWidget}bindToChartWidgetCollection(e){this._chartWidgetCollection=e,this.unbindFromChartWidget(),e.activeChartWidget.subscribe((e=>{this.unbindFromChartWidget(),this.bindToChartWidget(e)}),{callWithLast:!0})}bindToSearchCharts(e){this.unbindFromSearchCharts(),this._searchCharts=e,e.onSearchBySymbol.subscribe(this,this._onSearchBySymbol),e.loadingSymbol.subscribe((e=>{!1===e&&(this._feedBySymbolDebounceCounter=0)})),this._watchedSymbol.subscribe(this._onSymbolLinkBound)}unbindFromSearchCharts(){this._searchCharts&&(this._searchCharts.onSearchBySymbol.unsubscribe(this,this._onSearchBySymbol),this._watchedSymbol.unsubscribe(this._onSymbolLinkBound),this._searchCharts=null)}setPreventFeedBySymbol(e){this._preventFeedBySymbol=e}_onSearchBySymbol(e){if(!e.resolved_symbol)throw new Error("no resolved_symbol");this._selfEmit=!0,this._watchedSymbol.setValue(e.resolved_symbol),this._selfEmit=!1}_onSymbolLink(e){
if(!this._selfEmit){if(!this._searchCharts){const e="No search charts defined";throw _.logError(e),new Error(e)}this._preventFeedBySymbol||this._loadSearchCharts(e)}}_loadSearchCharts(e){if(!this._searchCharts){const e="No search charts defined";throw _.logError(e),new Error(e)}if(this._searchChartsLoadDebounced)return void(this._feedBySymbolDebounceCounter<100&&(this._feedBySymbolDebounceCounter++,this._searchChartsLoadDebounced(e)));const t=e=>this._searchCharts?(!0===this._searchCharts.loadingSymbol.value()?this._feedBySymbolDebounceCounter<100&&(this._feedBySymbolDebounceCounter++,this._searchChartsLoadDebounced=(0,n.default)(t,2e3),this._searchChartsLoadDebounced(e)):this._searchChartsLoadDebounced=null,this._searchCharts.feedBySymbol.call(this._searchCharts,e)):()=>{};!0===this._searchCharts.loadingSymbol.value()?this._feedBySymbolDebounceCounter<100&&(this._feedBySymbolDebounceCounter++,this._searchChartsLoadDebounced=(0,n.default)(t,2e3),this._searchChartsLoadDebounced(e)):this._searchCharts.feedBySymbol(e)}_mainSeries(){if(!this._activeChartWidget)throw new Error("ChartWidget is undefined");return this._activeChartWidget.model().mainSeries()}_properties(){return this._mainSeries().properties()}_symbolProperty(){return this._properties().symbol}_intervalProperty(){return this._properties().interval}_watchedSymbolListener(e){this._symbolProperty().value()!==e&&(this._chartWidgetCollection.setSymbol(e),this._sendSnowplowAnalytics())}_sendSnowplowAnalytics(){if(window.user.do_not_track)return;const e=this._mainSeries(),t=()=>{e.dataEvents().symbolResolved().unsubscribe(this,i)},i=i=>{(0,d.getTracker)().then((e=>{if(null===e)return;const t=this._chartWidgetCollection.layout.value(),n=this._chartWidgetCollection.metaInfo.uid.value()||"";e.trackChartSymbols(i.pro_name,i.type,t,n)})),e.dataEvents().symbolError().unsubscribe(this,t)};e.dataEvents().symbolResolved().subscribe(this,i,!0),e.dataEvents().symbolError().subscribe(this,t,!0)}_onSymbolPropertyChange(){const e=this._symbolProperty().value()!==this._watchedSymbol.value();this._watchedSymbol.setValue(this._symbolProperty().value()),e&&this._chartWidgetCollection.setSymbol(this._symbolProperty().value())}_onSymbolResolved(e){const t=this._mainSeries().symbolInfo();t&&this._applyValuesFromSymbolInfo(t)}_applyValuesFromSymbolInfo(e){const t=e.pro_name||o.enabled("trading_terminal")&&(e.full_name||e.name)||"";this._proSymbol.setValue(t),e.aliases&&this._symbolNamesList.setValue(e.aliases)}_updateSeriesSymbolInfo(){this._seriesShortSymbol.setValue(this._properties().shortName.value());const e=this._mainSeries().symbolInfo();if(e){this._applyValuesFromSymbolInfo(e);let t=(0,h.allChartStyles)();(0,a.isCloseBasedSymbol)(e)&&(t=t.filter((e=>(0,a.isSingleValueBasedStyle)(e)))),this._watchedSupportedChartStyles.setValue(t),this._watchedIntraday.setValue(!!e.has_intraday),this._watchedSeconds.setValue(!!e.has_seconds),this._watchedTicks.setValue(!(0,a.isCloseBasedSymbol)(e)&&!!e.has_ticks),this._watchedRange.setValue(!(0,a.isCloseBasedSymbol)(e))
;const i=e.data_frequency?e.data_frequency:void 0;this._watchedDataFrequencyResolution.setValue(i)}else this._watchedIntraday.deleteValue(),this._watchedSeconds.deleteValue(),this._watchedTicks.deleteValue(),this._watchedRange.deleteValue(),this._proSymbol.deleteValue()}_watchedIntervalListener(e){this._intervalProperty().value()!==e&&this._chartWidgetCollection.setResolution(e)}_onIntervalPropertyChange(){const e=this._intervalProperty().value()!==this._watchedInterval.value();this._watchedInterval.setValue(this._intervalProperty().value()),e&&this._chartWidgetCollection.setResolution(this._intervalProperty().value())}_onChartModelCreated(e){if(!this._activeChartWidget)throw new Error("ChartWidget is undefined");this._chartWidgetBindingState=y.BoundToModel,this._activeChartWidget.modelCreated().unsubscribe(this,this._onChartModelCreated);const t=this._symbolProperty();t.subscribe(this,this._onSymbolPropertyChange),this._watchedSymbol.setValue(t.value()),this._watchedSymbol.subscribe(this._watchedSymbolListenerBound);const i=this._mainSeries();i.dataEvents().symbolResolved().subscribe(this,this._onSymbolResolved),this._watchedSymbol.hook=e=>(i.symbolSameAsCurrent(e)&&(e=i.symbol()),e),i.dataEvents().symbolResolved().subscribe(this,this._updateSeriesSymbolInfo),i.dataEvents().symbolError().subscribe(this,this._updateSeriesSymbolInfo),i.dataEvents().symbolNotPermitted().subscribe(this,this._updateSeriesSymbolInfo),i.dataEvents().symbolGroupNotPermitted().subscribe(this,this._updateSeriesSymbolInfo),this._updateSeriesSymbolInfo();const n=this._intervalProperty();n.subscribe(this,this._onIntervalPropertyChange),this._watchedInterval.setValue(n.value()),this._watchedInterval.subscribe(this._watchedIntervalListenerBound),this._activeChartWidget.readOnly()&&(this._watchedSymbol.writeLock=!0)}}const f=new p;{const e=(0,c.getFreshInitData)().symbolInfo,t=e?e.pro_symbol:l.getValue("editchart.model.symbol",window.DEFAULT_SYMBOL);f.symbol.setValue(t)}window.TradingViewApi||(window.TradingViewApi={linking:f})}}]);